# D4D Rubric10 - Ten-Element Hierarchical Evaluation Rubric
# Schema Version: 2.0
# Last Updated: 2025-12-08

# =============================================================================
# FIELD REFERENCE GUIDE
# =============================================================================
# Use these exact field names when evaluating D4D files against the schema.
# The D4D schema uses a class-based structure, not dot-notation.
#
# Discovery & Access:
#   - id: Unique identifier (URI)
#   - doi: Digital Object Identifier
#   - rrid: Research Resource Identifier
#   - title: Dataset title
#   - description: Dataset description
#   - keywords: Search keywords (list)
#   - download_url: Download URL
#   - page: Landing page URL
#   - distribution_formats: DistributionFormat (list)
#
# Licensing & Governance:
#   - license_and_use_terms: LicenseAndUseTerms class
#   - ip_restrictions: IPRestrictions class
#   - regulatory_restrictions: ExportControlRegulatoryRestrictions class
#   - confidentiality_level: ConfidentialityLevelEnum
#
# Human Subjects:
#   - human_subject_research: HumanSubjectResearch class
#   - informed_consent: InformedConsent (list)
#   - participant_privacy: ParticipantPrivacy (list)
#   - participant_compensation: HumanSubjectCompensation class
#   - vulnerable_populations: VulnerablePopulations class
#   - ethical_reviews: EthicalReview (list)
#
# Data Composition:
#   - instances: Instance (list)
#   - variables: VariableMetadata (list)
#   - subpopulations: Subpopulation (list)
#   - is_tabular: Boolean
#   - is_deidentified: Deidentification class
#
# Data Quality:
#   - anomalies: DataAnomaly (list)
#   - known_biases: DatasetBias (list)
#   - known_limitations: DatasetLimitation (list)
#
# Use Guidance:
#   - intended_uses: IntendedUse (list)
#   - prohibited_uses: ProhibitedUse (list)
#   - discouraged_uses: DiscouragedUse (list)
#   - existing_uses: ExistingUse (list)
#
# Hierarchical Structure:
#   - resources: Dataset (list) - nested sub-resources
#   - parent_datasets: Dataset (list) - parent datasets
#   - related_datasets: DatasetRelationship (list) - typed relationships
#
# Funding & Motivation:
#   - purposes: Purpose (list)
#   - tasks: Task (list)
#   - funders: FundingMechanism (list)
#   - creators: Creator (list)
#
# Technical Methods:
#   - collection_mechanisms: CollectionMechanism (list)
#   - acquisition_methods: DataAcquisition (list)
#   - preprocessing_strategies: PreprocessingStrategy (list)
#   - cleaning_strategies: CleaningStrategy (list)
#   - labeling_strategies: LabelingStrategy (list)
#   - software_and_tools: Software (list)
#
# Versioning & Maintenance:
#   - version: Version string
#   - version_access: VersionAccess class
#   - updates: UpdatePlan class
#   - errata: Erratum (list)
#   - maintainers: Maintainer (list)
#   - was_derived_from: Source provenance
#   - release_notes: Release documentation
#
# Distribution:
#   - format: File format specification
#   - media_type: MIME type
#   - encoding: Character encoding
#   - bytes: File size in bytes
#   - conforms_to: Standards conformance
#   - conforms_to_schema: Schema conformance
#
# Other:
#   - publisher: Publishing organization
#   - citation: Recommended citation
#   - external_resources: ExternalResource (list)
#   - sensitive_elements: Sensitive content description
#   - content_warnings: Content warnings
# =============================================================================

d4d_complex_proxy_rubric:
  schema_version: "2.0"
  description: >
    Ten-element hierarchical rubric for evaluating D4D YAML completeness and usability.
    Each element represents a complex metadata-driven goal and includes up to five measurable
    sub-elements. Scores can be computed at the element or sub-element level.

  scoring_scale:
    element: 0â€“5
    sub_element: [0, 1]  # 0 = not present/fail, 1 = present/pass

  rubric:
    # ---------------------------------------------------- #
    - id: 1
      name: "Dataset Discovery and Identification"
      description: "Can a user or system discover and uniquely identify this dataset?"
      sub_elements:
        - name: "Persistent Identifier (DOI, RRID, or URI)"
          field: ["doi", "rrid", "id"]
        - name: "Dataset Title and Description Completeness"
          field: ["title", "description"]
        - name: "Keywords or Tags for Searchability"
          field: ["keywords"]
        - name: "Landing Page and Resources (page, hierarchical resources)"
          field: ["page", "resources"]
        - name: "Hierarchical Structure (parent datasets, relationships)"
          field: ["parent_datasets", "related_datasets"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 2
      name: "Dataset Access and Retrieval"
      description: "Can the dataset and its associated resources be located, accessed, and downloaded?"
      sub_elements:
        - name: "Access Policy and IP Restrictions Defined"
          field: ["license_and_use_terms", "ip_restrictions"]
        - name: "Regulatory Restrictions and Confidentiality Level Specified"
          field: ["regulatory_restrictions", "confidentiality_level"]
        - name: "Download URL or Platform Link Available"
          field: ["download_url"]
        - name: "Distribution Formats and File Types Specified"
          field: ["distribution_formats", "format", "media_type"]
        - name: "Related Datasets and External Resources Linked"
          field: ["related_datasets", "external_resources"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 3
      name: "Data Reuse and Interoperability"
      description: "Is sufficient information provided to reuse and integrate the dataset with others?"
      sub_elements:
        - name: "License Terms Allow Reuse"
          field: ["license_and_use_terms"]
        - name: "Data Formats Are Standardized (encoding, format)"
          field: ["format", "encoding"]
        - name: "Schema or Ontology Conformance Stated"
          field: ["conforms_to", "conforms_to_schema"]
        - name: "Variable Metadata with Identifiers Defined"
          field: ["variables"]
        - name: "Use Guidance Provided (intended, prohibited uses)"
          field: ["intended_uses", "prohibited_uses", "discouraged_uses"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 4
      name: "Ethical Use and Privacy Safeguards"
      description: "Does the dataset provide clear information about consent, privacy, and ethical oversight?"
      sub_elements:
        - name: "IRB or Ethics Review Documented"
          field: ["ethical_reviews", "human_subject_research"]
        - name: "Deidentification Method Described"
          field: ["is_deidentified"]
        - name: "Privacy Protections Beyond Deidentification"
          field: ["participant_privacy"]
        - name: "Informed Consent Obtained from Participants"
          field: ["informed_consent"]
        - name: "Vulnerable Populations and Compensation Documented"
          field: ["vulnerable_populations", "participant_compensation"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 5
      name: "Data Composition and Structure"
      description: "Can the dataset's structure, modality, and population be understood from metadata?"
      sub_elements:
        - name: "Cohort or Subpopulations Characteristics Described"
          field: ["subpopulations"]
        - name: "Number of Instances or Samples Reported"
          field: ["instances"]
        - name: "Variable-Level Metadata and Tabular Flag"
          field: ["variables", "is_tabular"]
        - name: "Data Topics or Conditions Represented"
          field: ["instances"]
        - name: "Data Quality Issues and Anomalies Documented"
          field: ["anomalies", "sampling_strategies"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 6
      name: "Data Provenance and Version Tracking"
      description: "Can a user determine dataset versions, update history, and provenance?"
      sub_elements:
        - name: "Dataset Version Number Provided"
          field: ["version"]
        - name: "Version Access Methods Documented"
          field: ["version_access"]
        - name: "Change Descriptions and Errata Provided"
          field: ["errata", "updates"]
        - name: "Update Schedule or Frequency Indicated"
          field: ["updates"]
        - name: "Provenance and Source Derivation Documented"
          field: ["was_derived_from", "release_notes"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 7
      name: "Scientific Motivation and Funding Transparency"
      description: "Does the metadata clearly state why the dataset exists and who funded it?"
      sub_elements:
        - name: "Motivation or Purpose for Dataset Creation"
          field: ["purposes"]
        - name: "Primary Research Objectives or Tasks"
          field: ["tasks"]
        - name: "Funding Sources and Mechanisms Listed"
          field: ["funders"]
        - name: "Grant IDs or Award Numbers Present"
          field: ["funders"]
        - name: "Creators and Acknowledgements Documented"
          field: ["creators", "funders"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 8
      name: "Technical Transparency (Data Collection and Processing)"
      description: "Can data collection and processing steps be replicated or understood?"
      sub_elements:
        - name: "Collection Mechanisms and Settings Described"
          field: ["collection_mechanisms"]
        - name: "Data Acquisition Methods Listed"
          field: ["acquisition_methods"]
        - name: "Preprocessing, Cleaning, and Labeling Strategies"
          field: ["preprocessing_strategies", "cleaning_strategies", "labeling_strategies"]
        - name: "Software and Tools Documented"
          field: ["software_and_tools"]
        - name: "External Standards and Resources Referenced"
          field: ["external_resources", "conforms_to"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 9
      name: "Dataset Evaluation and Limitations Disclosure"
      description: "Does the metadata communicate known risks, biases, or dataset limitations?"
      sub_elements:
        - name: "Known Limitations Documented"
          field: ["known_limitations"]
        - name: "Systematic Biases Identified and Described"
          field: ["known_biases"]
        - name: "Data Anomalies and Quality Issues Noted"
          field: ["anomalies"]
        - name: "Sensitive Content and Warnings Provided"
          field: ["sensitive_elements", "content_warnings"]
        - name: "Ethical Review Details Including Conflicts"
          field: ["ethical_reviews"]
      scoring_method: "Sum of sub_element presence / 5"

    # ---------------------------------------------------- #
    - id: 10
      name: "Cross-Platform and Community Integration"
      description: "Does the dataset connect to wider data ecosystems, repositories, or standards?"
      sub_elements:
        - name: "Dataset Published on a Recognized Platform"
          field: ["publisher"]
        - name: "Citation and DOI for Cross-referencing"
          field: ["citation", "doi"]
        - name: "Community Standards or Schema Conformance"
          field: ["conforms_to"]
        - name: "Outreach Materials and Documentation Links"
          field: ["external_resources", "page"]
        - name: "Related Datasets with Typed Relationships"
          field: ["related_datasets"]
      scoring_method: "Sum of sub_element presence / 5"
