id: https://w3id.org/bridge2ai/d4d-evaluation-summary
name: D4D_Evaluation_Summary
title: D4D Evaluation Summary Schema
description: |
  Schema for structured D4D evaluation summaries comparing generation methods
  across rubrics, projects, and input types.

prefixes:
  d4deval: https://w3id.org/bridge2ai/d4d-evaluation-summary/
  linkml: https://w3id.org/linkml/

default_prefix: d4deval
default_range: string

imports:
  - linkml:types

classes:
  EvaluationSummary:
    description: Complete evaluation summary for a rubric system
    attributes:
      rubric_type:
        description: Type of rubric used (rubric10 or rubric20)
        range: RubricTypeEnum
        required: true

      rubric_description:
        description: Description of rubric structure and scoring
        required: true

      total_files_evaluated:
        description: Total number of D4D files evaluated
        range: integer
        required: true

      concatenated_file_count:
        description: Number of concatenated D4D files
        range: integer

      individual_file_count:
        description: Number of individual D4D files
        range: integer

      overall_performance:
        description: Overall performance statistics
        range: OverallPerformance
        required: true

      method_comparison:
        description: Performance comparison across generation methods
        range: MethodPerformance
        multivalued: true
        required: true

      project_comparison:
        description: Performance comparison across Bridge2AI projects
        range: ProjectPerformance
        multivalued: true
        required: true

      top_performers:
        description: List of top performing D4D files
        range: TopPerformer
        multivalued: true

      element_performance:
        description: Performance by rubric element (rubric10 only)
        range: ElementPerformance
        multivalued: true

      category_performance:
        description: Performance by category (rubric20 only)
        range: CategoryPerformance
        multivalued: true

      common_weaknesses:
        description: Common weaknesses across all evaluations
        range: CommonWeakness
        multivalued: true

      common_strengths:
        description: Common strengths across all evaluations
        range: CommonStrength
        multivalued: true

      key_insights:
        description: Key analytical insights from evaluation
        range: KeyInsight
        multivalued: true

      input_type_comparison:
        description: Concatenated vs individual file performance
        range: InputTypeComparison

      files_generated:
        description: Output files generated by evaluation
        range: GeneratedFile
        multivalued: true

  OverallPerformance:
    description: Overall performance statistics across all files
    attributes:
      average_score:
        description: Average score across all files
        range: float
        required: true

      average_percentage:
        description: Average percentage score
        range: float
        required: true

      max_score:
        description: Maximum possible score
        range: integer
        required: true

      best_score:
        description: Best score achieved
        range: float
        required: true

      best_percentage:
        description: Best percentage achieved
        range: float
        required: true

      best_performer:
        description: Project/method/type with best score
        required: true

      worst_score:
        description: Worst score achieved
        range: float
        required: true

      worst_percentage:
        description: Worst percentage achieved
        range: float
        required: true

      worst_performer:
        description: Project/method/type with worst score

  MethodPerformance:
    description: Performance metrics for a specific generation method
    attributes:
      method:
        description: D4D generation method
        range: GenerationMethodEnum
        required: true

      input_type:
        description: Type of input files (concatenated or individual)
        range: InputTypeEnum

      file_count:
        description: Number of files evaluated with this method
        range: integer
        required: true

      average_score:
        description: Average score for this method
        range: float
        required: true

      average_percentage:
        description: Average percentage for this method
        range: float
        required: true

      max_score:
        description: Maximum possible score
        range: integer

      best_score:
        description: Best score for this method
        range: float

      worst_score:
        description: Worst score for this method
        range: float

      rank:
        description: Ranking among all methods (1 = best)
        range: integer

  ProjectPerformance:
    description: Performance metrics for a Bridge2AI Grand Challenge project
    attributes:
      project:
        description: Bridge2AI Grand Challenge project
        range: Bridge2AIProjectEnum
        required: true

      file_count:
        description: Number of files evaluated for this project
        range: integer
        required: true

      average_score:
        description: Average score for this project
        range: float
        required: true

      average_percentage:
        description: Average percentage for this project
        range: float
        required: true

      max_score:
        description: Maximum possible score
        range: integer

      rank:
        description: Ranking among all projects (1 = best)
        range: integer

  TopPerformer:
    description: Information about a top-performing D4D file
    attributes:
      rank:
        description: Rank in top performers list
        range: integer
        required: true

      project:
        description: Bridge2AI project
        range: Bridge2AIProjectEnum
        required: true

      method:
        description: Generation method used
        range: GenerationMethodEnum
        required: true

      input_type:
        description: Input type (concatenated or individual)
        range: InputTypeEnum
        required: true

      score:
        description: Score achieved
        range: float
        required: true

      percentage:
        description: Percentage score
        range: float
        required: true

      max_score:
        description: Maximum possible score
        range: integer
        required: true

      elements_passing:
        description: Number of elements passing threshold (rubric10)
        range: integer

      file_name:
        description: Name of the D4D file

  ElementPerformance:
    description: Performance for a specific rubric element (rubric10)
    attributes:
      element_id:
        description: Element number (1-10)
        range: integer
        required: true

      element_name:
        description: Name of the element
        required: true

      max_score:
        description: Maximum score for this element
        range: integer
        required: true

      average_score:
        description: Average score across all files
        range: float
        required: true

      average_percentage:
        description: Average percentage for this element
        range: float

      strength_level:
        description: Assessment of strength (strongest, strong, weak, weakest)
        range: StrengthLevelEnum

      description:
        description: Description of what this element measures

  CategoryPerformance:
    description: Performance for a rubric category (rubric20)
    attributes:
      category_id:
        description: Category number (1-4)
        range: integer
        required: true

      category_name:
        description: Name of the category
        required: true

      max_score:
        description: Maximum score for this category
        range: integer
        required: true

      average_score:
        description: Average score across all files
        range: float
        required: true

      average_percentage:
        description: Average percentage for this category
        range: float

      rank:
        description: Ranking among categories (1 = best)
        range: integer

      question_count:
        description: Number of questions in this category
        range: integer

  CommonWeakness:
    description: Common weakness identified across evaluations
    attributes:
      weakness_type:
        description: Type of weakness
        range: WeaknessTypeEnum
        required: true

      description:
        description: Description of the weakness
        required: true

      frequency:
        description: How frequently this weakness appears
        range: FrequencyEnum

      affected_element_or_question:
        description: Specific element/question affected

      typical_score:
        description: Typical score for this weakness area

  CommonStrength:
    description: Common strength identified across evaluations
    attributes:
      strength_type:
        description: Type of strength
        range: StrengthTypeEnum
        required: true

      description:
        description: Description of the strength
        required: true

      frequency:
        description: How frequently this strength appears
        range: FrequencyEnum

      affected_element_or_question:
        description: Specific element/question affected

      typical_score:
        description: Typical score for this strength area

  KeyInsight:
    description: Key analytical insight from evaluation
    attributes:
      insight_type:
        description: Type of insight
        range: InsightTypeEnum
        required: true

      title:
        description: Brief title of the insight
        required: true

      description:
        description: Detailed description of the insight
        required: true

      supporting_data:
        description: Data supporting this insight
        multivalued: true

      comparison_metric:
        description: Comparison metric if applicable (e.g., "2.4Ã— better")

  InputTypeComparison:
    description: Comparison between concatenated and individual file performance
    attributes:
      concatenated_performance:
        description: Performance on concatenated files
        range: InputTypePerformance
        required: true

      individual_performance:
        description: Performance on individual files
        range: InputTypePerformance
        required: true

      synthesis_advantage:
        description: Description of synthesis advantage for concatenated files

  InputTypePerformance:
    description: Performance metrics for an input type
    attributes:
      input_type:
        description: Type of input (concatenated or individual)
        range: InputTypeEnum
        required: true

      file_count:
        description: Number of files of this type
        range: integer

      average_score:
        description: Average score for this input type
        range: float

      average_percentage:
        description: Average percentage for this input type
        range: float

      score_range:
        description: Score range (min-max)

      best_method:
        description: Best performing method for this input type
        range: GenerationMethodEnum

  GeneratedFile:
    description: Information about generated output file
    attributes:
      file_path:
        description: Path to the generated file
        required: true

      file_type:
        description: Type of file (CSV, JSON, Markdown)
        range: FileTypeEnum
        required: true

      description:
        description: Description of file contents
        required: true

      row_count:
        description: Number of rows/entries (for CSV/JSON)
        range: integer

enums:
  RubricTypeEnum:
    description: Types of evaluation rubrics
    permissible_values:
      rubric10:
        description: 10-element hierarchical rubric (50 sub-elements, max 50 points)
      rubric20:
        description: 20-question detailed rubric (4 categories, max 84 points)

  GenerationMethodEnum:
    description: D4D generation methods
    permissible_values:
      curated:
        description: Manually curated comprehensive datasheets
      gpt5:
        description: Generated using GPT-5 API
      claudecode:
        description: Direct synthesis at temperature=0.0 (concatenated only)
      claudecode_agent:
        description: Claude Code agent-based generation
      claudecode_assistant:
        description: Claude Code assistant-based generation

  Bridge2AIProjectEnum:
    description: Bridge2AI Grand Challenge projects
    permissible_values:
      AI_READI:
        description: AI-READI - AI-Ready and Equitable Atlas for Diabetes Insights
      CHORUS:
        description: CHoRUS - Collaborative Hospital Repository Uniting Standards
      CM4AI:
        description: CM4AI - Cell Maps for AI
      VOICE:
        description: VOICE - Voice as a Biomarker of Health

  InputTypeEnum:
    description: Types of input files for D4D generation
    permissible_values:
      concatenated:
        description: Multiple source documents concatenated, requires synthesis
      individual:
        description: Single source document, single-source extraction

  StrengthLevelEnum:
    description: Assessment of element/category strength
    permissible_values:
      strongest:
        description: Highest performing element/category
      strong:
        description: Above average performance
      weak:
        description: Below average performance
      weakest:
        description: Lowest performing element/category

  WeaknessTypeEnum:
    description: Types of common weaknesses
    permissible_values:
      missing_field:
        description: Required or important field is missing
      incomplete_content:
        description: Field present but content is incomplete
      low_quality:
        description: Content quality is below standard
      inconsistent:
        description: Information is inconsistent across fields
      generic:
        description: Content is too generic/boilerplate

  StrengthTypeEnum:
    description: Types of common strengths
    permissible_values:
      comprehensive:
        description: Comprehensive coverage of topic
      high_quality:
        description: High quality detailed content
      consistent:
        description: Consistent information across fields
      well_structured:
        description: Well-structured and organized

  FrequencyEnum:
    description: Frequency of occurrence
    permissible_values:
      always:
        description: Appears in all or nearly all files
      frequently:
        description: Appears in majority of files
      sometimes:
        description: Appears in some files
      rarely:
        description: Appears in few files

  InsightTypeEnum:
    description: Types of analytical insights
    permissible_values:
      method_comparison:
        description: Comparison between generation methods
      synthesis_advantage:
        description: Advantage of synthesis vs single-source
      performance_gap:
        description: Gap between best and worst performers
      common_pattern:
        description: Pattern observed across evaluations
      improvement_opportunity:
        description: Opportunity for improvement

  FileTypeEnum:
    description: Types of generated output files
    permissible_values:
      csv:
        description: CSV file with tabular data
      json:
        description: JSON file with structured data
      markdown:
        description: Markdown file with formatted text
